---
// 逻辑部分保持不变
if (Astro.request.method === "POST") {
  const formData = await Astro.request.formData();
  const title = formData.get("title");
  const content = formData.get("content");
  const password = formData.get("password");

  if (password === "123456") {
    if (Astro.locals.runtime) {
      const db = Astro.locals.runtime.env.DB;
      await db.prepare('INSERT INTO posts (title, content) VALUES (?, ?)')
        .bind(title, content)
        .run();
      return Astro.redirect("/");
    }
  } else {
    console.error("密码错误");
  }
}
---

<!-- ▼▼▼▼▼▼▼ 关键是下面这部分 HTML 结构 ▼▼▼▼▼▼▼ -->
<html lang="zh-cn">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>后台管理</title>
  </head>
  <body style="padding: 20px; font-family: sans-serif;">

    <h1>发布新文章</h1>

    <form method="POST">
      <div style="margin-bottom: 10px;">
        <input type="text" name="title" placeholder="文章标题" required style="width: 300px; display: block; padding: 5px;" />
      </div>
      <div style="margin-bottom: 10px;">
        <textarea name="content" placeholder="文章内容" required style="width: 300px; height: 100px; display: block; padding: 5px;"></textarea>
      </div>
      <div style="margin-bottom: 10px;">
        <input type="password" name="password" placeholder="发布密码 (123456)" required style="width: 300px; display: block; padding: 5px;" />
      </div>
      <button type="submit" style="padding: 5px 15px; cursor: pointer;">发布</button>
    </form>

    <br />
    <a href="/">返回首页</a>
  </body>
</html>